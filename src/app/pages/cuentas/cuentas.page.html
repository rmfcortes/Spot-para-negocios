<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title class="comfortaa">Cuenta actual: {{cuenta | titlecase}}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-card class="escritorio margen">
        <ng-container *ngIf="preciosReady; else mainEscTemplate">
            <ion-grid class="ion-no-padding">
                <ion-row class="ion-align-items-start">
                    <ion-col size="4">
                    </ion-col>
                    <ion-col size="8/3" *ngFor="let item of cuentas">
                        <div class="cuadro" [style.background]="item.actual ? '#f37208' :'#e0a331'">
                            <div class="titulo">
                                <h1>{{item.nombre | titlecase}}</h1>
                            </div>
                        </div>
                    </ion-col>
                </ion-row>
                <ion-row class="ion-align-items-start">
                    <ion-col size="4">
                        <ion-item lines="none">
                            <ion-label color="medium">Precio</ion-label>
                        </ion-item>
                    </ion-col>
                    <ion-col size="8/3" *ngFor="let item of cuentas">
                        <ion-item style="text-align: center;" lines="none">
                            <ion-label [style.color]="item.actual ? '#f37208' :'#989aa2'" style="font-size: x-large;">
                                {{item.precio | currency:'CAD':'symbol-narrow':'1.0-2'}} / anual
                            </ion-label>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <hr>
                <ion-row class="ion-align-items-start">
                    <ion-col size="4">
                        <ion-item lines="none">
                            <ion-label color="medium">Límite de productos</ion-label>
                        </ion-item>
                    </ion-col>
                    <ion-col size="8/3" *ngFor="let item of cuentas">
                        <ion-item style="text-align: center;" lines="none">
                            <ion-label [style.color]="item.actual ? '#f37208' :'#989aa2'">
                                <ng-container *ngIf="item.nombre !== 'premium'; else premMobTemplate">
                                    {{item.productos}}
                                </ng-container>
                                <ng-template #premMobTemplate>
                                    Sin límite
                                </ng-template>
                            </ion-label>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <hr>
                <ion-row class="ion-align-items-start">
                    <ion-col size="4">
                        <ion-item lines="none">
                            <ion-label color="medium">Límite de SubCategorías</ion-label>
                        </ion-item>
                    </ion-col>
                    <ion-col size="8/3" *ngFor="let item of cuentas">
                        <ion-item style="text-align: center;" lines="none">
                            <ion-label [style.color]="item.actual ? '#f37208' :'#989aa2'">
                                <ng-container *ngIf="item.nombre !== 'premium'; else subEscTemplate">
                                    {{item.subCategorias}}
                                </ng-container>
                                <ng-template #subEscTemplate>
                                    Sin límite
                                </ng-template>
                            </ion-label>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <hr>
                <ion-row class="ion-align-items-start">
                    <ion-col size="4">
                        <ion-item lines="none">
                            <ion-label color="medium">Recepción de pedidos</ion-label>
                        </ion-item>
                    </ion-col>
                    <ion-col size="8/3" *ngFor="let item of cuentas">
                        <ion-item style="text-align: center;" lines="none">
                            <ion-label [style.color]="item.actual ? '#f37208' :'#989aa2'">
                                <ng-container *ngIf="item.pedidos; else pedTemplate">
                                    <ion-icon name="checkmark"></ion-icon>
                                </ng-container>
                                <ng-template #pedTemplate>
                                    <ion-icon name="close"></ion-icon>
                                </ng-template>
                            </ion-label>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <hr>
                <ion-row class="ion-align-items-start">
                    <ion-col size="4">
                        <ion-item lines="none">
                            <ion-label color="medium">Anunciar ofertas</ion-label>
                        </ion-item>
                    </ion-col>
                    <ion-col size="8/3" *ngFor="let item of cuentas">
                        <ion-item style="text-align: center;" lines="none">
                            <ion-label [style.color]="item.actual ? '#f37208' :'#989aa2'">
                                <ng-container *ngIf="item.ofertas; else pedTemplate">
                                    <ion-icon name="checkmark"></ion-icon>
                                </ng-container>
                                <ng-template #pedTemplate>
                                    <ion-icon name="close"></ion-icon>
                                </ng-template>
                            </ion-label>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <hr>
                <ion-row class="ion-align-items-start">
                    <ion-col size="4">
                        <ion-item lines="none">
                            <ion-label class="ion-text-wrap" color="medium">Vista en pantalla principal 'Populares'</ion-label>
                        </ion-item>
                    </ion-col>
                    <ion-col size="8/3" *ngFor="let item of cuentas">
                        <ion-item style="text-align: center;" lines="none">
                            <ion-label [style.color]="item.actual ? '#f37208' :'#989aa2'">
                                <ng-container *ngIf="item.populares; else pedTemplate">
                                    <ion-icon name="checkmark"></ion-icon>
                                </ng-container>
                                <ng-template #pedTemplate>
                                    <ion-icon name="close"></ion-icon>
                                </ng-template>
                            </ion-label>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <hr>
                <ion-row class="ion-align-items-start">
                    <ion-col size="4">
                        <ion-item lines="none">
                            <ion-label class="ion-text-wrap" color="medium">Vista en pantalla principal 'Más Vendidos'</ion-label>
                        </ion-item>
                    </ion-col>
                    <ion-col size="8/3" *ngFor="let item of cuentas">
                        <ion-item style="text-align: center;" lines="none">
                            <ion-label [style.color]="item.actual ? '#f37208' :'#989aa2'">
                                <ng-container *ngIf="item.vendidos; else pedTemplate">
                                    <ion-icon name="checkmark"></ion-icon>
                                </ng-container>
                                <ng-template #pedTemplate>
                                    <ion-icon name="close"></ion-icon>
                                </ng-template>
                            </ion-label>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row class="ion-align-items-start">
                    <ion-col size="4">
                    </ion-col>
                    <ion-col size="8/3" *ngFor="let item of cuentas; let i = index">
                        <ion-item lines="none">
                            <ion-button style="margin: auto;" size="default" (click)="changeCuenta(item.nombre, item.precio, i)" *ngIf="!item.actual" shape="round">
                                Elegir
                            </ion-button>
                        </ion-item>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ng-container>
        <ng-template #mainEscTemplate>
            <ion-card class="boton-margen">
                <ion-list>
                    <ion-item *ngFor="let item of [1,2,3,4,5,6]">
                        <ion-label>
                            <h2>
                                <ion-skeleton-text animated style="width: 50%;"></ion-skeleton-text>
                            </h2>
                            <p>
                                <ion-skeleton-text animated style="width: 90%;"></ion-skeleton-text>
                            </p>
                            <p>
                                <ion-skeleton-text animated style="width: 65%;"></ion-skeleton-text>
                            </p>
                        </ion-label>
                    </ion-item>
                </ion-list>
            </ion-card>
        </ng-template>
    </ion-card>

    <!-- Vista mobile -->

    <div class="mobile margen">
        <ng-container *ngIf="preciosReady; else mainMobileTemplate">
            <ion-card *ngFor="let item of cuentas; let i = index">
                <ng-container *ngIf="item.actual; else elseTemplate">
                    <ion-item lines="none" color="primary" style="text-align: center;">
                        <ion-label style="font-size: x-large;">{{item.nombre | titlecase}}</ion-label>
                    </ion-item>
                </ng-container>
                <ng-template #elseTemplate>
                    <ion-item lines="none" color="medium" style="text-align: center;">
                        <ion-label style="font-size: x-large;">{{item.nombre}}</ion-label>
                    </ion-item>
                </ng-template>
                <ion-item style="text-align: center;">
                    <ion-label color="medium" style="font-size: large;">
                        Precio: {{item.precio | currency:'CAD':'symbol-narrow':'1.0-2'}} / anual
                    </ion-label>
                </ion-item>
                <ion-item style="text-align: center;">
                    <ion-label color="medium">
                        Límite de productos:
                        <ng-container *ngIf="item.nombre !== 'premium'; else premMobTemplate">
                            {{item.productos}}
                        </ng-container>
                        <ng-template #premMobTemplate>
                            Sin límite
                        </ng-template>
                    </ion-label>
                </ion-item>
                <ion-item style="text-align: center;">
                    <ion-label color="medium">
                        Límite de SubCategorías:
                        <ng-container *ngIf="item.nombre !== 'premium'; else subMobTemplate">
                            {{item.subCategorias}}
                        </ng-container>
                        <ng-template #subMobTemplate>
                            Sin límite
                        </ng-template>
                    </ion-label>
                </ion-item>
                <ion-item style="text-align: center;">
                    <ion-label color="medium" class="ion-text-wrap">
                        <ng-container *ngIf="item.pedidos; else pedMobileTemplate">
                            Tus clientes pueden generar pedidos en línea
                        </ng-container>
                        <ng-template #pedMobileTemplate>
                            Tus clientes NO pueden generar pedidos en línea
                        </ng-template>
                    </ion-label>

                </ion-item>
                <ion-item style="text-align: center;">
                    <ion-label color="medium" class="ion-text-wrap">
                        <ng-container *ngIf="item.ofertas; else oferTemplate">
                            Puedes publicar ofertas
                        </ng-container>
                        <ng-template #oferTemplate>
                            No puedes publicar ofertas
                        </ng-template>
                    </ion-label>
                </ion-item>
                <ion-item style="text-align: center;">
                    <ion-label color="medium" class="ion-text-wrap">
                        <ng-container *ngIf="item.populares; else popTemplate">
                            Puedes aparecer en la pantalla principal, en la zona de 'Populares'
                        </ng-container>
                        <ng-template #popTemplate>
                            No aparecerás en la pantalla principal
                        </ng-template>
                    </ion-label>
                </ion-item>
                <ion-item style="text-align: center;" *ngIf="item.vendidos">
                    <ion-label color="medium" class="ion-text-wrap">
                        Tus productos pueden aparecer en la pantalla principal, en la zona de 'Más Vendidos'
                    </ion-label>
                </ion-item>
                <ion-item lines="none">
                    <ion-button style="margin: auto;" size="default" (click)="changeCuenta(item.nombre, item.precio, i)" *ngIf="!item.actual" shape="round">
                        Elegir
                    </ion-button>
                </ion-item>
            </ion-card>
        </ng-container>
        <ng-template #mainMobileTemplate>
            <ion-card class="boton-margen">
                <ion-list>
                    <ion-item *ngFor="let item of [1,2,3,4,5,6]">
                        <ion-label>
                            <h2>
                                <ion-skeleton-text animated style="width: 50%;"></ion-skeleton-text>
                            </h2>
                            <p>
                                <ion-skeleton-text animated style="width: 90%;"></ion-skeleton-text>
                            </p>
                            <p>
                                <ion-skeleton-text animated style="width: 65%;"></ion-skeleton-text>
                            </p>
                        </ion-label>
                    </ion-item>
                </ion-list>
            </ion-card>
        </ng-template>
    </div>
</ion-content>